; Listing generated by Microsoft (R) Optimizing Compiler Version 13.10.3077 

	TITLE	.\BGM.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
;	COMDAT _$E1
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
;	COMDAT _$E3
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
;	COMDAT _$E5
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
;	COMDAT ??_7BGM@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?getAsm@BGM@@UAEXPAVMusicFile@@@Z		; BGM::getAsm
PUBLIC	??_7BGM@@6B@					; BGM::`vftable'
;	COMDAT ??_7BGM@@6B@
CONST	SEGMENT
??_7BGM@@6B@ DD	FLAT:?getCode@MusicItem@@UAEXPAV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z ; BGM::`vftable'
	DD	FLAT:?setCode@MusicItem@@UAEXPAV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z
	DD	FLAT:?getAsm@BGM@@UAEXPAVMusicFile@@@Z
; Function compile flags: /Ogsy
; File f:\nes\nsdl\src\nsc\bgm.cpp
_TEXT	SEGMENT
_MUS$ = 8						; size = 4
?getAsm@BGM@@UAEXPAVMusicFile@@@Z PROC NEAR		; BGM::getAsm
; _this$ = ecx

; 49   : {

  00000	56		 push	 esi

; 50   : 	*MUS << MUS->Header.Label.c_str() << "BGM" << m_id << ":" << endl;

  00001	8b 74 24 08	 mov	 esi, DWORD PTR _MUS$[esp]
  00005	8d 86 a8 00 00
	00		 lea	 eax, DWORD PTR [esi+168]
  0000b	83 78 18 10	 cmp	 DWORD PTR [eax+24], 16	; 00000010H
  0000f	57		 push	 edi
  00010	8b f9		 mov	 edi, ecx
  00012	72 05		 jb	 SHORT $L64403
  00014	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00017	eb 03		 jmp	 SHORT $L64404
$L64403:
  00019	83 c0 04	 add	 eax, 4
$L64404:
  0001c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_01JLIPDDHJ@?3?$AA@
  00021	ff 77 3c	 push	 DWORD PTR [edi+60]
  00024	8d 4e 3c	 lea	 ecx, DWORD PTR [esi+60]
  00027	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_03NPKEBKFI@BGM?$AA@
  0002c	50		 push	 eax
  0002d	8b c6		 mov	 eax, esi
  0002f	f7 d8		 neg	 eax
  00031	1b c0		 sbb	 eax, eax
  00033	23 c1		 and	 eax, ecx
  00035	50		 push	 eax
  00036	e8 00 00 00 00	 call	 ??$?6U?$char_traits@D@std@@@std@@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@0@AAV10@PBD@Z ; std::operator<<<std::char_traits<char> >
  0003b	59		 pop	 ecx
  0003c	59		 pop	 ecx
  0003d	50		 push	 eax
  0003e	e8 00 00 00 00	 call	 ??$?6U?$char_traits@D@std@@@std@@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@0@AAV10@PBD@Z ; std::operator<<<std::char_traits<char> >
  00043	59		 pop	 ecx
  00044	59		 pop	 ecx
  00045	50		 push	 eax
  00046	e8 00 00 00 00	 call	 ??6?$basic_ostream@DU?$char_traits@D@std@@@std@@QAEAAV01@I@Z ; std::basic_ostream<char,std::char_traits<char> >::operator<<
  0004b	50		 push	 eax
  0004c	e8 00 00 00 00	 call	 ??$?6U?$char_traits@D@std@@@std@@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@0@AAV10@PBD@Z ; std::operator<<<std::char_traits<char> >
  00051	50		 push	 eax
  00052	e8 00 00 00 00	 call	 ?endl@std@@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@1@AAV21@@Z ; std::endl
  00057	83 c4 0c	 add	 esp, 12			; 0000000cH

; 51   : 	TrackSet::getAsm(MUS);

  0005a	56		 push	 esi
  0005b	8b cf		 mov	 ecx, edi
  0005d	e8 00 00 00 00	 call	 ?getAsm@TrackSet@@UAEXPAVMusicFile@@@Z ; TrackSet::getAsm
  00062	5f		 pop	 edi
  00063	5e		 pop	 esi

; 52   : }

  00064	c2 04 00	 ret	 4
?getAsm@BGM@@UAEXPAVMusicFile@@@Z ENDP			; BGM::getAsm
PUBLIC	??1BGM@@QAE@XZ					; BGM::~BGM
; Function compile flags: /Ogsy
_TEXT	SEGMENT
??1BGM@@QAE@XZ PROC NEAR				; BGM::~BGM
; _this$ = eax

; 38   : }

  00067	50		 push	 eax
  00068	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET FLAT:??_7BGM@@6B@
  0006e	e8 00 00 00 00	 call	 ??1TrackSet@@QAE@XZ	; TrackSet::~TrackSet
  00073	c3		 ret	 0
??1BGM@@QAE@XZ ENDP					; BGM::~BGM
PUBLIC	??0BGM@@QAE@PAVMMLfile@@IQBG@Z			; BGM::BGM
; Function compile flags: /Ogsy
_TEXT	SEGMENT
_MML$ = 8						; size = 4
__strName$ = 12						; size = 4
??0BGM@@QAE@PAVMMLfile@@IQBG@Z PROC NEAR		; BGM::BGM
; _this$ = esi
; __id$ = ecx

; 25   : {

  00074	ff 74 24 08	 push	 DWORD PTR __strName$[esp-4]
  00078	6a 00		 push	 0
  0007a	6a 00		 push	 0
  0007c	ff 74 24 10	 push	 DWORD PTR _MML$[esp+8]
  00080	56		 push	 esi
  00081	e8 00 00 00 00	 call	 ??0TrackSet@@QAE@PAVMMLfile@@I_N1QBG@Z ; TrackSet::TrackSet
  00086	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET FLAT:??_7BGM@@6B@

; 26   : }

  0008c	8b c6		 mov	 eax, esi
  0008e	c2 08 00	 ret	 8
??0BGM@@QAE@PAVMMLfile@@IQBG@Z ENDP			; BGM::BGM
; Function compile flags: /Ogsy
; File c:\program files (x86)\microsoft visual studio .net 2003\vc7\include\xlocnum
;	COMDAT _$E3
text$yc	SEGMENT
_$E3	PROC NEAR					; COMDAT

; 806  : 		{	// initialize from _Locinfo object

  00000	83 25 00 00 00
	00 00		 and	 DWORD PTR ?id@?$num_put@DV?$ostreambuf_iterator@DU?$char_traits@D@std@@@std@@@std@@2V0locale@2@A, 0 ; std::num_put<char,std::ostreambuf_iterator<char,std::char_traits<char> > >::id
  00007	c3		 ret	 0
_$E3	ENDP
END
