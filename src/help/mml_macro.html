<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft&reg; HTML Help Workshop 4.1">
<meta http-equiv='Content-Type' content='text/html;charset=Shift_JIS'>
<meta http-equiv='Content-Style-Type' content='text/css'>
<link rel="stylesheet" type="text/css" href="help.css">
<Title>MML reference: Macro</Title>
</HEAD>
<BODY>

<!-- header start -->
<div id='header'>
<h1>NSDL（NES Sound Driver Library）</h1>
<a href="index.html">トップ</a>＼
<a href="usage.html">使い方</a>＼
<a href="usage_nsc.html">MMLコンパイラ</a>＼
<a href="mml.html">MML文法</a>＼
<a href="mml_sequence.html">MMLシーケンス</a>＼
</div>

<!-- contents start -->
<div id='contents'>
<h2>MML reference: Macro</h2>

<!-- ──────────────── -->
<div class='block'>
<h3>定義（Define）</h3>
<code><pre>
        $<var>name</var>
</pre></code>
</div>

<!-- ──────────────── -->
<div class='block'>
<h3>引数（Inputs）</h3>

<h4>name</h4>
<p>
呼び出すマクロ名です。<br>
ASCIIコードの 0x00 〜 0x20 （改行、ＴＡＢ、スペース等）が来るまでをマクロ名として認識します。<br>
</p>


</div>
<!-- ──────────────── -->
<div class='block'>
<h3>内容（Contents）</h3>
<p>
<var>name</var>のマクロを呼び出します。<br>
なお、マクロは、ＰＣに搭載されたメモリが許す範囲でネスト（マクロ内でマクロを呼び出し）する事が可能です。<br>
また、マクロの一番最後のコマンドに限り、引数をマクロの外に記述することが可能です。<br>
その場合も、マクロ名の後ろにASCIIコードの 0x00 〜 0x20 （改行、ＴＡＢ、スペース等）を入れ、引数を記述して下さい。<br>
</p>
</div>

<!-- ──────────────── -->
<div class='block'>
<h3>注意（Notes）</h3>
<p>
マクロは、MMLコンパイラーの機能です。<br>
データサイズの肥大化を防止するためには、<a href="mml_sub.html">サブルーチン</a>化することをお勧めします。<br>
</p>
<p>
マクロ中で<code><a href="mml_TR.html">TR</a></code>コマンドは使えません。<br>
</p>
<p>
呼び出し元のマクロと同じ名前のマクロは呼び出せません。<br>
</p>
<p>
マクロの定義は、マクロを呼び出すよりも前に行ってください。<br>
但し、マクロの定義内容の評価は呼び出し時に行うため、
マクロ定義内でのマクロの呼び出しはその限りではありませんが、
呼び出された段階では、マクロ内で呼び出すマクロが定義されている必要があります。<br>
</p>
</div>

<!-- ──────────────── -->
<div class='block'>
<h3>例（Sample）</h3>

<code><pre>
<span style="color:green;">/* macro define */</span>
$macro{
    $macro2 cdefgab>c
} 

$macro2{ l4 o4 }

<span style="color:green;">/* Block of BGM[0] */</span>
BGM(0){
    TR1     $macro 1		<span style="color:green;">/* = l4 o4 cdefgab>c1 */</span>
}
</pre></code>

</div>


</div>

</BODY>
</HTML>
